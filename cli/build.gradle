plugins {
    id "java"
    id "com.github.johnrengelman.shadow" version "5.2.0"
}

configurations {
    //implementation doesn't work directly w/ Shadow plugin. This is a workaround.
    // see https://github.com/johnrengelman/shadow/issues/448
    fatJar.extendsFrom(implementation)
}

dependencies {
    implementation project(':lib')
    fatJar project(':lib')
}

shadowJar {
    archiveFileName = 'short-uuid-cli.jar'
    configurations = [project.configurations.fatJar]

    manifest {
        attributes 'Main-Class': 'com.prosper.shortuuidcli.Cli'
    }
}

